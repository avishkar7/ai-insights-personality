<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RESULT</title>
    <link rel="shortcut icon" href="../static/result.png" type="image/png" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
  </head>
  <style>
    body {
      background-image: linear-gradient(
        to right bottom,
        #2692cb,
        #0093be,
        #0093ae,
        #00919b,
        #0c8e88
      );
    }

    .datadiv {
      background-color: white;
      padding-left: 6%;
      padding-right: 6%;
      padding-top: 2%;
      padding-bottom: 2%;
      opacity: 0;
      transition: 1s ease-in-out;
    }

    .datadiv.active {
      opacity: 1;
    }

    #photo {
      width: 35vw;
      height: 37vh;
      border-radius: 80%;
      background-color: #ccc;
      margin-right: 7%;
    }
    .img12 {
      width: 100%;
      height: 100%;
      border-radius: 100%;
    }
  </style>

  <body>
    <section style="margin-top: 2%">
      <h1 style="text-align: center"><b>Results</b></h1>
      <hr style="border: 2px solid black" />
      <div class="container">
        <div class="col-lg-12" style="display: flex; margin-top: 5%">
          <!-- <div id="photo"><img src="{{ url_for('static', filename='profile-photo.jpg') }}" alt="profile photo" class="img12"></div> -->
          <div id="photo">
            <img
              src="{{ url_for('static', filename=pathphoto) }}"
              alt="profile photo"
              class="img12"
            />
          </div>
          <div>
            <table class="table table-borderless">
              <tr>
                <td style="text-align: right"><b>Name:</b></td>
                <td style="text-align: left">{{output['Name']}}</td>
              </tr>
              <tr>
                <td style="text-align: right"><b>Mobile No:</b></td>
                <td style="text-align: left">{{output['Mobile Number']}}</td>
              </tr>
              <tr>
                <td style="text-align: right"><b>Gender:</b></td>
                <td style="text-align: left">{{output['Gender']}}</td>
              </tr>
              <tr>
                <td style="text-align: right"><b>Email:</b></td>
                <td style="text-align: left">{{output['Email']}}</td>
              </tr>
              <tr>
                <td style="text-align: right"><b>College:</b></td>
                <td style="text-align: left">{{output['College']}}</td>
              </tr>
              <tr>
                <td style="text-align: right"><b>Degree:</b></td>
                <td style="text-align: left">{{output['Degree']}}</td>
              </tr>
              <tr>
                <td style="text-align: right"><b>Specialization:</b></td>
                <td style="text-align: left">{{output['Specialization']}}</td>
              </tr>
              <tr>
                <td style="text-align: right"><b>Skills:</b></td>
                <td style="text-align: left">{{output['Skills']}}</td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </section>
    <br />
    <section class="datadiv">
      <div class="col-lg-12">
        <h2><b>Answers</b></h2>
        {% if responses %} {% for key , val in responses.items() %}
        <div class="alert alert-primary" role="alert">
          <p class="question">{{ key }}</p>
          <a
            class="btn btn-primary"
            data-bs-toggle="collapse"
            href="#collapseExample"
            role="button"
            aria-expanded="false"
            aria-controls="collapseExample"
          >
            View Answer
          </a>
          <div class="collapse" id="collapseExample">
            <div class="card card-body">
              <p class="answer">{{val[0]}}</p>
            </div>
          </div>
        </div>
        {% endfor %} {% endif %}
      </div>
      <br />
      <hr />
      <br />
      <div class="col-lg-12">
        <h2><b>Personality Predictions</b></h2>
        <br />
        <table
          class="table table-bordered table-hover"
          style="text-align: center"
        >
          <thead>
            <tr class="table-dark">
              <th>Trait</th>
              <th>Probability</th>
            </tr>
          </thead>
          <tbody>
            <tr class="table-primary">
              <td>Extraversion (EXT)</td>
              <td>Neuroticism (NEU)</td>
              <td>Agreeableness (AGR)</td>
              <td>Conscientiousness (CON)</td>
              <td>Openness (OPN)</td>
            </tr>
            <tr class="table-primary">
              <td>{{predictions.pred_prob_cEXT}}</td>
              <td>{{predictions.pred_prob_cNEU}}</td>
              <td>{{predictions.pred_prob_cAGR}}</td>
              <td>{{predictions.pred_prob_cCON}}</td>
              <td>{{predictions.pred_prob_cOPN}}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <br />
      <hr />
      <div class="col-lg-12" style="text-align: center">
        <img
          src="{{ url_for('static', filename=graph) }}"
          alt="Emotion Analysis"
          style="width: 100%; height: fit-content"
        />
        <h2><b>Face Emotion Analysis</b></h2>
      </div>
    </section>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"
      integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script>
      $(window).scroll(function () {
        var scroll = $(window).scrollTop();

        //>=, not <=
        if (scroll >= 100) {
          //clearHeader, not clearheader - caps H
          $(".datadiv").addClass("active");
        }
        if (scroll < 100) {
          //clearHeader, not clearheader - caps H
          $(".datadiv").removeClass("active");
        }
      });
    </script>
  </body>
</html>
